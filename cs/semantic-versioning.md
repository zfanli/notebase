---
type: Git
tags: Dev QoK-B
---

# 语义化版本 Semantic Versioning

版本格式：

```
MAJOR.MINOR.PATCH
主版本号.次版本号.修订号
```

版本号递增规则：

1. `MAJOR` 主版本号：当你做了不兼容的 API 修改，破坏性变更
2. `MINOR` 次版本号：当你做了向下兼容的功能性新增
3. `PATCH` 修订号：当你做了向下兼容的问题修正

版本后可以添加额外的预发布、构建元信息作为延伸。

## SemVer 规范

> 程度相关的关键词参考 RFC 2119 定义。

1. 使用 SemVer 必须定义公用 API，力求精确和完整
2. 标准的版本号必须使用 X.Y.Z 格式，取值均为非负整数，且禁止在数字前补零，X、Y、Z 对应主版本号、次版本号和修订号，必须以数值递增
3. 标记版本号的软件发行后，禁止改变改版本软件的内容，任何修改都必须以新版本发行
4. 主版本号 0 （0.Y.Z）对应软件开发初期，一切都可能随时被修改，此时公开 API 不应该被视作稳定
5. 版本 1.0.0 界定公开 API 的形成，1.0.0 以后的所有版本都基于公共 API 及其修改
6. 修订号必须在只做了向下兼容的问题修复时递增
7. 次版本号必须在做了向下兼容的新功能时才递增，任何 API 被标记为弃用时也必须递增，可以在有大量更新或改进时递增，可以包含修订内容，每当次版本号递增时，修订号必须归零
8. 主版本号必须在有任何不兼容的修改加入时递增，可以包括次版本或修订版本的修改，每当主版本号递增时，次版本号和修订号必须归零
9. 预发布版本可以标注在修订号之后，标识符必须由 ASCII 字母数字和链接号组成，禁止留白，数值禁止前置补零，预发布版本优先级低于标准版本，预发布版本表示非稳定版，并且可能无法满足预期的兼容性，示例：1.0.0-alpha.1
10. 编译信息可以标注在修订号或预发布版本号之后，使用加号连接，标识符必须由 ASCII 字母数字和链接号组成，禁止留白，数值禁止前置补零，判断优先级时编译信息必须被忽略，即版本相同仅编译信息不同时被视作统一优先级，示例：1.0.0.-alpha+001
11. 优先层级表示在版本排序时如何进行比较，
    1. 优先层级必须通过主版本号、次版本号、修订号和预发布版本号决定，编译信息忽略
    2. 优先层级通过所有表示比较的首个区别来判定，主版本号、次版本号、修订号一定按照数值计算
    3. 版本号相同时，预发布版本优先层级低于标准版本
    4. 预发布版本比较优先层级时必须从左往右比较每一栏
       1. 数值类型按照数值字面量比较
       2. 非数值类型按照 ASCII 排序进行比较
       3. 数值标识优先层级一定低于非数值标识
       4. 如果所有表示都相等，标识栏长的有更高优先层级
